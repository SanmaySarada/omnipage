---
phase: 03-hero-section
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - components/hero/hero-section.tsx
  - components/hero/hero-content.tsx
  - components/hero/metric-cards.tsx
  - app/page.tsx
autonomous: false

must_haves:
  truths:
    - "User sees headline and subhead fade in with staggered animation on page load"
    - "User sees animated gradient mesh background with slow drift effect"
    - "User can enter email in inline capture field with micro-validation feedback"
    - "User sees trust microcopy line (Bank-level security | No fees for schools | Rewards from day one)"
    - "User sees 3-4 metric cards with hover lift effect below hero"
  artifacts:
    - path: "components/hero/hero-section.tsx"
      provides: "Hero section container with gradient background"
      exports: ["HeroSection"]
    - path: "components/hero/hero-content.tsx"
      provides: "Hero content with staggered animation"
      exports: ["HeroContent"]
    - path: "components/hero/metric-cards.tsx"
      provides: "Metric cards with hover lift"
      exports: ["MetricCards"]
    - path: "app/page.tsx"
      provides: "Page with integrated hero section"
      contains: "HeroSection"
  key_links:
    - from: "components/hero/hero-section.tsx"
      to: "components/hero/hero-content.tsx"
      via: "composition"
      pattern: "import.*HeroContent"
    - from: "components/hero/hero-content.tsx"
      to: "components/hero/email-capture.tsx"
      via: "composition"
      pattern: "import.*EmailCapture"
    - from: "components/hero/hero-content.tsx"
      to: "lib/animation-variants.ts"
      via: "animation variants"
      pattern: "heroContainerVariants|heroItemVariants"
    - from: "app/page.tsx"
      to: "components/hero/hero-section.tsx"
      via: "import"
      pattern: "import.*HeroSection"
---

<objective>
Create hero content with staggered fade-in animation, trust microcopy, metric cards with hover lift, and integrate everything into the page.

Purpose: Complete the hero section that delivers the first impression - users immediately understand Omni's value proposition and can join the waitlist.

Output:
- `components/hero/hero-section.tsx` - Main hero container with gradient background
- `components/hero/hero-content.tsx` - Headline, subhead, email form with stagger animation
- `components/hero/metric-cards.tsx` - Trust metrics with hover lift effect
- `app/page.tsx` - Updated with hero section integration
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-hero-section/03-RESEARCH.md

# Prior plan artifacts
@components/hero/email-capture.tsx
@lib/animation-variants.ts
@app/globals.css

# Files to modify
@app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HeroContent with staggered animation and trust microcopy</name>
  <files>
    components/hero/hero-content.tsx
  </files>
  <action>
Create `components/hero/hero-content.tsx`:

```typescript
'use client'

import { motion } from 'motion/react'
import { heroContainerVariants, heroItemVariants } from '@/lib/animation-variants'
import { EmailCapture } from './email-capture'

export function HeroContent() {
  return (
    <motion.div
      variants={heroContainerVariants}
      initial="hidden"
      animate="visible"
      className="text-center max-w-4xl mx-auto"
    >
      <motion.h1
        variants={heroItemVariants}
        className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight text-foreground"
      >
        Earn Rewards on Your{' '}
        <span className="text-primary">Biggest Expense</span>
      </motion.h1>

      <motion.p
        variants={heroItemVariants}
        className="mt-6 text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto"
      >
        Pay tuition with any credit card. Keep your rewards.
        Schools get paid instantly via ACH â€” zero fees.
      </motion.p>

      <motion.div variants={heroItemVariants} className="mt-8">
        <EmailCapture />
      </motion.div>

      <motion.p
        variants={heroItemVariants}
        className="mt-6 text-sm text-muted-foreground"
      >
        <span className="inline-flex items-center gap-2">
          <span>Bank-level security</span>
          <span className="text-border">|</span>
          <span>No fees for schools</span>
          <span className="text-border">|</span>
          <span>Rewards from day one</span>
        </span>
      </motion.p>
    </motion.div>
  )
}
```

Key implementation details:
- Uses heroContainerVariants for stagger orchestration
- Each child uses heroItemVariants for consistent fade-in + slide-up
- Headline uses text-primary for the key phrase "Biggest Expense"
- Responsive typography: 4xl -> 5xl -> 6xl -> 7xl as viewport grows
- Trust microcopy uses pipe separators with text-border color
- EmailCapture component composed inside the stagger sequence
  </action>
  <verify>
    - `ls components/hero/hero-content.tsx` confirms file exists
    - `grep "heroContainerVariants" components/hero/hero-content.tsx` confirms variant usage
    - `grep "Bank-level security" components/hero/hero-content.tsx` confirms trust microcopy
    - `grep "EmailCapture" components/hero/hero-content.tsx` confirms email form integration
  </verify>
  <done>
    - HeroContent component with staggered fade-in animation
    - Headline with emphasized "Biggest Expense" in primary color
    - Subhead explaining the value proposition
    - EmailCapture form integrated into animation sequence
    - Trust microcopy line with three trust signals
  </done>
</task>

<task type="auto">
  <name>Task 2: Create MetricCards with hover lift and HeroSection container</name>
  <files>
    components/hero/metric-cards.tsx
    components/hero/hero-section.tsx
  </files>
  <action>
1. Create `components/hero/metric-cards.tsx`:

```typescript
'use client'

import { motion } from 'motion/react'
import { cardHoverVariants, cardTransition } from '@/lib/animation-variants'

interface MetricCardProps {
  value: string
  label: string
}

function MetricCard({ value, label }: MetricCardProps) {
  return (
    <motion.div
      variants={cardHoverVariants}
      initial="rest"
      whileHover="hover"
      transition={cardTransition}
      className="bg-card rounded-xl p-6 shadow-sm border cursor-default"
      style={{ willChange: 'transform' }}
    >
      <div className="text-2xl sm:text-3xl font-bold text-primary">{value}</div>
      <p className="text-muted-foreground text-sm mt-1">{label}</p>
    </motion.div>
  )
}

const metrics = [
  { value: '$50B+', label: 'Built for tuition payments' },
  { value: 'Zero', label: 'Fees for schools' },
  { value: '3x-10x', label: 'Merchant reward multipliers' },
  { value: 'Day 1', label: 'Start earning immediately' },
]

export function MetricCards() {
  return (
    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
      {metrics.map((metric) => (
        <MetricCard key={metric.label} value={metric.value} label={metric.label} />
      ))}
    </div>
  )
}
```

2. Create `components/hero/hero-section.tsx`:

```typescript
import { HeroContent } from './hero-content'
import { MetricCards } from './metric-cards'

export function HeroSection() {
  return (
    <section className="relative min-h-screen flex flex-col justify-center py-20">
      {/* Gradient mesh background */}
      <div className="hero-gradient" aria-hidden="true" />

      <div className="container relative z-10">
        <HeroContent />

        <div className="mt-16 sm:mt-20">
          <MetricCards />
        </div>
      </div>
    </section>
  )
}
```

Key implementation details:
- MetricCards uses cardHoverVariants for consistent -5px lift on hover
- 4 metrics: $50B+ (tuition scale), Zero (school fees), 3x-10x (multipliers), Day 1 (immediate)
- Grid: 2 columns on mobile, 4 columns on md+
- HeroSection is a server component (no 'use client') - composes client components
- hero-gradient class applied with aria-hidden for accessibility
- container class provides consistent horizontal padding
- Metrics positioned below hero content with responsive margin
  </action>
  <verify>
    - `ls components/hero/metric-cards.tsx` confirms file exists
    - `ls components/hero/hero-section.tsx` confirms file exists
    - `grep "cardHoverVariants" components/hero/metric-cards.tsx` confirms hover animation
    - `grep "hero-gradient" components/hero/hero-section.tsx` confirms gradient usage
    - `grep "MetricCards" components/hero/hero-section.tsx` confirms integration
  </verify>
  <done>
    - MetricCards component with 4 trust metrics and hover lift effect
    - HeroSection container with gradient background and proper z-indexing
    - Gradient background uses hero-gradient CSS class with aria-hidden
    - Responsive grid layout (2 cols mobile, 4 cols desktop)
    - Proper composition hierarchy: HeroSection > HeroContent > EmailCapture
  </done>
</task>

<task type="auto">
  <name>Task 3: Integrate HeroSection into page</name>
  <files>
    app/page.tsx
  </files>
  <action>
Update `app/page.tsx` to use the new HeroSection component:

```typescript
import { HeroSection } from '@/components/hero/hero-section'

export default function Page() {
  return (
    <>
      <HeroSection />

      {/* How It Works */}
      <section id="how-it-works" className="min-h-screen flex items-center justify-center bg-muted/30">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">How It Works</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>

      {/* Features */}
      <section id="features" className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">Features</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>

      {/* Calculator */}
      <section id="calculator" className="min-h-screen flex items-center justify-center bg-muted/30">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">Calculator</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>

      {/* FAQ */}
      <section id="faq" className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h2 className="text-3xl font-bold mb-4">FAQ</h2>
          <p className="text-muted-foreground">Section placeholder</p>
        </div>
      </section>
    </>
  )
}
```

Replace the hero placeholder section with the HeroSection component import.
Keep all other section placeholders intact for future phases.
  </action>
  <verify>
    - `grep "HeroSection" app/page.tsx` confirms import and usage
    - `grep "how-it-works" app/page.tsx` confirms other sections preserved
    - `npm run build` completes without errors
  </verify>
  <done>
    - HeroSection integrated into page replacing placeholder
    - All other section placeholders preserved (how-it-works, features, calculator, faq)
    - Build succeeds with complete hero section
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete hero section with:
    - Animated gradient mesh background (30s slow drift)
    - Headline and subhead with staggered fade-in animation
    - Inline email capture with micro-validation (try invalid email, then blur)
    - Trust microcopy line with three trust signals
    - 4 metric cards with hover lift effect
  </what-built>
  <how-to-verify>
    1. Run `npm run dev` and open http://localhost:3000
    2. Observe: Headline and subhead fade in with stagger effect on page load
    3. Observe: Gradient background has subtle color drift (may need to watch for 10-15 seconds)
    4. Test email validation:
       - Type "invalid" in email field
       - Click outside (blur) - should show red border and error message
       - Type "test@example.com" - should show green border
    5. Read trust microcopy: "Bank-level security | No fees for schools | Rewards from day one"
    6. Hover over each metric card - should lift -5px smoothly
    7. Resize browser to mobile width - layout should stack appropriately
    8. (Optional) Enable prefers-reduced-motion in OS settings - gradient should stop animating
  </how-to-verify>
  <resume-signal>Type "approved" if hero section meets requirements, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npm run build` completes without errors
2. `npm run dev` shows complete hero section at http://localhost:3000
3. Staggered animation plays on page load (headline -> subhead -> email form -> trust copy)
4. Gradient background drifts slowly in the background
5. Email validation shows appropriate feedback on blur
6. Metric cards lift on hover
7. Layout is responsive across viewport sizes
</verification>

<success_criteria>
Phase 3 success criteria (all must pass):
1. User sees headline and subhead fade in with staggered animation on page load
2. User sees animated gradient mesh background with slow drift effect
3. User can enter email in inline capture field with micro-validation feedback
4. User sees trust microcopy line ("Bank-level security | No fees for schools | Rewards from day one")
5. User sees 3-4 metric cards with hover lift effect below hero
</success_criteria>

<output>
After completion, create `.planning/phases/03-hero-section/03-02-SUMMARY.md`
</output>
